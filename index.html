<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Benimle kahve iÃ§mek ister misin?</title>
<style>
  :root{ --bg:#0b0a12; --brand:#ff6aa3; --ink:#fff; }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:#0b0a12; color:var(--ink); font:600 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial;
    overflow:hidden;
    background: radial-gradient(1200px 800px at 80% -10%, #1a1225 0%, #0b0a12 40%) fixed, linear-gradient(180deg, #0b0a12, #0a0a11);
  }
  .wrap{display:grid; place-items:center; height:100%; padding:20px}
  .photo{ width:min(360px, 70vw); height:min(360px, 70vw); border-radius:24px; overflow:hidden; border:4px solid var(--brand);
    background: linear-gradient(135deg, #2a1e3e, #1b1330); box-shadow:0 18px 60px rgba(0,0,0,.45); }
  .photo img{width:100%; height:100%; object-fit:cover; display:block}
  h1{margin:18px 0 0; font-size:clamp(24px, 4.2vw, 40px); text-align:center}
  .btnRow{ position:relative; width:min(800px, 96vw); height:260px; margin-top:18px; border-radius:14px }
  .btn{
    position:absolute; transform:translate(-50%,-50%) scale(1);
    padding:18px 30px; border-radius:14px; font-weight:900; cursor:pointer; border:none; color:#fff;
    transition: transform .14s ease;
    user-select:none; z-index:5; pointer-events:auto;
  }
  #yes{ left:35%; top:50%; background:#1f3c31 } /* sabit */
  #no { left:65%; top:50%;  background:#3b1f24 }
  canvas#fw{position:fixed; inset:0; z-index:3; pointer-events:none}
  .overlay{
    position:fixed; inset:0; z-index:4; display:flex; flex-direction:column; align-items:center; justify-content:center;
    opacity:0; pointer-events:none; transition:opacity .5s ease;
  }
  .overlay.show{opacity:1}
  .overlay .big{ width:min(420px, 82vw); height:min(420px, 82vw); border-radius:28px; border:4px solid var(--brand);
    box-shadow:0 30px 100px rgba(0,0,0,.6); margin-bottom:16px; overflow:hidden; background: linear-gradient(135deg, #2a1e3e, #1b1330); }
  .overlay .big img{width:100%; height:100%; object-fit:cover; display:block}
  .overlay h2{font-size:clamp(28px, 6vw, 56px); color:#ffd36e; text-shadow:0 2px 24px rgba(255, 211, 110, .25); margin:0}
  .tip{font-size:12px; color:#bfb2cf; margin-top:10px; text-align:center}
</style>
</head>
<body>
<canvas id="fw"></canvas>
<div class="overlay" id="overlay">
  <div class="big"><img id="bigImg" src="ben.jpg" alt=""></div>
  <h2>TEBRÄ°KLER!! ðŸŽ‰</h2>
</div>
<div class="wrap">
  <div class="photo"><img id="selfie" src="ben.jpg" alt=""></div>
  <h1>Benimle kahve iÃ§mek ister misin?</h1>
  <div class="btnRow" id="btnField">
    <button id="yes" class="btn" type="button">Evet</button>
    <button id="no" class="btn" type="button">HayÄ±r</button>
  </div>
  <p class="tip">Not: Bu dosyayla aynÄ± klasÃ¶rde <b>ben.jpg</b> olmalÄ± (yoksa mor yer tutucu gÃ¶rÃ¼nÃ¼r).</p>
</div>
<script>
(() => {
  const yes = document.getElementById('yes');
  const no = document.getElementById('no');
  const field = document.getElementById('btnField');
  const overlay = document.getElementById('overlay');
  const fw = document.getElementById('fw');
  const ctx = fw.getContext('2d');
  const selfie = document.getElementById('selfie');
  const bigImg = document.getElementById('bigImg');
  ;[selfie, bigImg].forEach(img => img.addEventListener('error', ()=> img.style.display='none'));

  // --- NO continuous movement (bounce) + dodge cursor ---
  let r = field.getBoundingClientRect();
  function rect(){ r = field.getBoundingClientRect(); return r; }
  let nx = r.width*0.65, ny = r.height*0.5; // center-right
  let vx = 2.2, vy = 1.6;                    // px/frame
  function clamp(v, a, b){ return Math.max(a, Math.min(b, v)); }

  function step(){
    const rr = rect();
    nx += vx; ny += vy;
    const hw = no.offsetWidth/2, hh = no.offsetHeight/2;
    if (nx < hw || nx > rr.width - hw)  { vx *= -1; nx = clamp(nx, hw, rr.width - hw); }
    if (ny < hh || ny > rr.height - hh) { vy *= -1; ny = clamp(ny, hh, rr.height - hh); }
    no.style.left = nx + 'px'; no.style.top = ny + 'px';
    requestAnimationFrame(step);
  }
  // start
  requestAnimationFrame(step);

  // dodge near pointer
  let px = innerWidth/2, py = innerHeight/2;
  function onMove(e){
    const x = e.clientX ?? (e.touches && e.touches[0] && e.touches[0].clientX);
    const y = e.clientY ?? (e.touches && e.touches[0] && e.touches[0].clientY);
    if (x==null || y==null) return;
    px = x; py = y;
    const rr = rect();
    const cx = rr.left + nx, cy = rr.top + ny;
    const dx = px - cx, dy = py - cy;
    const d  = Math.hypot(dx, dy);
    if (d < 160){
      // push away by adding to velocity
      const ang = Math.atan2(dy, dx);
      vx -= Math.cos(ang) * 1.6;
      vy -= Math.sin(ang) * 1.6;
      // clamp velocity to avoid runaway
      const sp = Math.hypot(vx, vy);
      const maxSp = 5.0;
      if (sp > maxSp){ vx = vx/sp*maxSp; vy = vy/sp*maxSp; }
    }
  }
  window.addEventListener('pointermove', onMove, {passive:true});
  window.addEventListener('touchmove', onMove, {passive:true});

  // make NO unclickable: teleport elsewhere on click
  no.addEventListener('click', (e)=>{
    e.preventDefault(); e.stopPropagation();
    const rr = rect();
    const hw = no.offsetWidth/2, hh = no.offsetHeight/2;
    nx = Math.random()*(rr.width - 2*hw) + hw;
    ny = Math.random()*(rr.height - 2*hh) + hh;
    no.style.left = nx + 'px'; no.style.top = ny + 'px';
    // randomize velocity a bit
    vx = (Math.random() < .5 ? -1 : 1) * (1.8 + Math.random()*2.2);
    vy = (Math.random() < .5 ? -1 : 1) * (1.4 + Math.random()*2.0);
  });

  // --- Global click scales ---
  let scaleY = 1, scaleN = 1;
  function applyScale(){
    yes.style.transform = `translate(-50%,-50%) scale(${scaleY})`;
    no.style.transform  = `translate(-50%,-50%) scale(${scaleN})`;
  }
  function pump(){
    scaleY = Math.min(27, scaleY * 3);
    scaleN = Math.max(0.05, scaleN / 3);
    applyScale();
  }
  window.addEventListener('click', pump);

  // --- Fireworks ---
  function sizeCanvas(){ fw.width = innerWidth * devicePixelRatio; fw.height = innerHeight * devicePixelRatio; ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0); }
  sizeCanvas(); addEventListener('resize', sizeCanvas);
  const particles = [], rockets = [];
  let fireworksOn = false, lastSpawn = 0;
  const rnd = (a,b)=> Math.random()*(b-a)+a;
  const col = (h,s,l,a)=> `hsla(${h},${s}%,${l}%,${a})`;
  function spawnRocket(x, y){ rockets.push({x,y,vx:rnd(-1.2,1.2),vy:rnd(-10,-13),life:0,maxLife:rnd(40,60),h:rnd(0,360)}); }
  function burst(x,y,h){
    const n=120;
    for(let i=0;i<n;i++){
      const ang=(i/n)*Math.PI*2 + rnd(-0.08,0.08), sp=rnd(2,6);
      particles.push({x,y,vx:Math.cos(ang)*sp + rnd(-0.3,0.3),vy:Math.sin(ang)*sp + rnd(-0.3,0.3),drag:rnd(0.985,0.995),grav:rnd(0.03,0.06),size:rnd(1,2.4),life:0,maxLife:rnd(55,85),h:h+rnd(-15,15),fade:rnd(0.006,0.012)});
    }
  }
  function tick(){
    ctx.clearRect(0,0,fw.width,fw.height);
    for(let i=particles.length-1;i>=0;i--){
      const p = particles[i];
      p.life++; p.vx*=p.drag; p.vy=p.vy*p.drag + p.grav; p.x+=p.vx; p.y+=p.vy;
      const a=Math.max(0,1-p.life*p.fade);
      if(a<=0||p.life>p.maxLife){particles.splice(i,1); continue;}
      ctx.beginPath(); ctx.fillStyle=col(p.h,80,60,a); ctx.arc(p.x,p.y,p.size,0,Math.PI*2); ctx.fill();
    }
    for(let i=rockets.length-1;i>=0;i--){
      const r=rockets[i]; r.life++; r.x+=r.vx; r.y+=r.vy; r.vy+=0.12;
      ctx.beginPath(); ctx.fillStyle=col(r.h,80,70,.8); ctx.arc(r.x,r.y,2,0,Math.PI*2); ctx.fill();
      if(r.vy>=-1||r.life>r.maxLife){ burst(r.x,r.y,r.h); rockets.splice(i,1); }
    }
    const now=performance.now();
    if(fireworksOn && now-lastSpawn>350){ lastSpawn=now; for(let i=0;i<2;i++) spawnRocket(rnd(60,fw.width-60), fw.height-20); }
    requestAnimationFrame(tick);
  }
  tick();

  yes.addEventListener('click', (e)=>{
    e.stopPropagation();
    overlay.classList.add('show');
    fireworksOn = true;
    setTimeout(()=>fireworksOn=false, 9000);
  });
})();
</script>
</body>
</html>